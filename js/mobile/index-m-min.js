$(function(){var h=$(".screen"),n=$(".subWrap"),i=$(".btn-menu"),k=$(".filter"),j=h.find(".midWrap"),l=n.find(".btn-theme"),m=j.find(".arrow"),c=j.find(".logo"),d=j.find(".works"),b=c.find(".signature"),e=window.location.href.split("index")[0],a=0;if($(window).width()>860){window.location.replace(e+"index.html")}else{g()}j.delay(5000).queue(function(){b.remove()});i.on("click",function(){n.toggleClass("trigger");i.toggleClass("no-bg");h.toggleClass("scale");k.toggleClass("show")});l.on("click",function(){j.attr("class","midWrap "+$(this).data("menu"));n.attr("class","subWrap");m.removeAttr("style");$(".menu .list").removeClass("curr");$(this).parent().addClass("curr");h.removeClass("scale");k.removeClass("show");i.removeClass("no-bg");$("body").scrollTop(0)});k.on("click",function(){n.attr("class","subWrap");h.removeClass("scale");k.removeClass("show");i.removeClass("no-bg")});$(".works .list").on("click",function(){j.attr("class","midWrap detail");$(".menu .list").removeClass("curr");f($(this).data("id"),0)});m.on("click",function(){if($(this).hasClass("prev")){a=a-1}if($(this).hasClass("next")){a=a+1}f(0,a)});$(window).resize(function(){if($(window).width()>860){window.location.href=e+"index.html"}});function g(){var p=Datas.Data.front_end,q=[];for(var o=0;o<p.length;o++){q.push('<li class="list" data-id="'+p[o].CaseID+'">');q.push('	<img src="img/mobile/works/'+p[o].CoverImg+'" alt="'+p[o].CaseName+'">');q.push('	<em class="case-name">'+p[o].CaseName+"</em>");q.push('	<span class="load-Wrap"><em class="text">- loading -</em></span>');q.push("</li>")}d.html(q.join(""));$("img",d).one("load",function(){$(".load-Wrap",$(this).parents(".list")).hide()}).each(function(){if(this.complete){$(this).load()}})}function f(q,t){var r=Datas.Data.front_end,s=[];if(q===0){s.push('<span class="img_bg"><img src="img/mobile/detail/work'+r[t].CaseID+'_bg.png" alt="'+r[t].CaseName+'"><span class="load-Wrap"><em class="text">- loading -</em></span></span>');s.push('<div class="project-info">');s.push('	<h2 class="project-name">'+r[t].CaseName+"</h2>");s.push('	<span class="info-desc">專案時間：<em class="time">'+r[t].Time+"</em></span>");s.push('	<span class="info-desc">特色說明：<em class="tech">'+r[t].SpecialTech+"</em></span>");if(r[t].webLink!==""){s.push('	<span class="info-desc url">網址：<a class="link" href="'+r[t].webLink+'" target="_blank">'+r[t].webLink.split("://")[1]+"</a></span>")}else{s.push('	<span class="info-desc url">網址：專案尚未上線，不便公開</span>')}s.push('	<ul class="photo-list">');for(var o=0;o<parseInt(r[t].PhotoCount,10);o++){s.push('		<li class="list"><img src="img/mobile/detail/work'+r[t].CaseID+"_0"+(o+1)+'.png" alt="'+r[t].CaseName+'"><span class="load-Wrap"><em class="text">- loading -</em></span></li>')}s.push("	</ul>");s.push("</div>");if(t===0){$(".arrow.prev").hide()}else{$(".arrow.prev").show()}if(t===r.length-1){$(".arrow.next").hide()}else{$(".arrow.next").show()}}else{for(var p=0;p<r.length;p++){if(r[p].CaseID===q.toString()){s.push('<span class="img_bg"><img src="img/mobile/detail/work'+r[p].CaseID+'_bg.png" alt="'+r[p].CaseName+'"><span class="load-Wrap"><em class="text">- loading -</em></span></span>');s.push('<div class="project-info">');s.push('	<h2 class="project-name">'+r[p].CaseName+"</h2>");s.push('	<span class="info-desc">專案時間：<em class="time">'+r[p].Time+"</em></span>");s.push('	<span class="info-desc">特色說明：<em class="tech">'+r[p].SpecialTech+"</em></span>");if(r[p].webLink!==""){s.push('	<span class="info-desc url">網址：<a class="link" href="'+r[p].webLink+'" target="_blank">'+r[p].webLink.split("://")[1]+"</a></span>")}else{s.push('	<span class="info-desc url">網址：此專案尚未上線，不便公開</span>')}s.push('	<ul class="photo-list">');for(var o=0;o<parseInt(r[p].PhotoCount,10);o++){s.push('		<li class="list"><img src="img/mobile/detail/work'+r[p].CaseID+"_0"+(o+1)+'.png" alt="'+r[p].CaseName+'"><span class="load-Wrap"><em class="text">- loading -</em></span></li>')}s.push("	</ul>");s.push("</div>");a=p;if(p===0){$(".arrow.prev").hide()}else{$(".arrow.prev").show()}if(p===r.length-1){$(".arrow.next").hide()}else{$(".arrow.next").show()}}}}$(".mainWrap.detail").html(s.join(""));$("body").scrollTop(0);$("img",".photo-list").one("load",function(){$(".load-Wrap",$(this).parents(".photo-list")).hide()}).each(function(){if(this.complete){$(this).load()}});$("img",".img_bg").one("load",function(){$(".load-Wrap",$(this).parents(".img_bg")).hide()}).each(function(){if(this.complete){$(this).load()}})}});