$(function(){var i=$(".screen"),p=$(".subWrap"),j=$(".btn-menu"),m=$(".filter"),l=i.find(".midWrap"),n=p.find(".btn-theme"),o=l.find(".arrow"),d=l.find(".logo"),e=l.find(".works"),b=d.find(".signature"),k="https://cdn.rawgit.com/brian224/portfolio/master/",f=window.location.href.split("index")[0],a=0,q=[];if($(window).width()>860){window.location.replace(f+"index.html")}else{h()}l.delay(5000).queue(function(){$(".logo").removeClass("animate");$(this).dequeue()});$(".logo").delay(6000).queue(function(){b.remove();$(".logo-img").show()});j.on("click",function(){p.toggleClass("trigger");j.toggleClass("no-bg");i.toggleClass("scale");m.toggleClass("show")});n.on("click",function(){l.attr("class","midWrap "+$(this).data("menu"));p.attr("class","subWrap");o.removeAttr("style");$(".menu .list").removeClass("curr");$(this).parent().addClass("curr");i.removeClass("scale");m.removeClass("show");j.removeClass("no-bg");$("body").scrollTop(0)});m.on("click",function(){p.attr("class","subWrap");i.removeClass("scale");m.removeClass("show");j.removeClass("no-bg")});$(".works .list").on("click",function(){l.attr("class","midWrap detail");$(".menu .list").removeClass("curr");c($(this).data("id"),0)});o.on("click",function(){if($(this).hasClass("prev")){a=a-1}if($(this).hasClass("next")){a=a+1}c(0,a)});$(window).resize(function(){if($(window).width()>860){window.location.href=f+"index.html"}});function h(){var s=Datas.Data.front_end,t=[];for(var r=0;r<s.length;r++){t.push('<li class="list" data-id="'+s[r].CaseID+'">');t.push('	<img src="'+k+"img/mobile/works/"+s[r].CoverImg+'" alt="'+s[r].CaseName+'">');t.push('	<em class="case-name">'+s[r].CaseName+"</em>");t.push('	<span class="load-Wrap"><em class="text">- loading -</em></span>');t.push("</li>")}e.html(t.join(""));$("img",e).one("load",function(){$(".load-Wrap",$(this).parents(".list")).hide()}).each(function(){if(this.complete){$(this).load()}})}function c(s,u){var t=Datas.Data.front_end;if(s===0){g(t[u]);if(u===0){$(".arrow.prev").hide()}else{$(".arrow.prev").show()}if(u===t.length-1){$(".arrow.next").hide()}else{$(".arrow.next").show()}}else{for(var r=0;r<t.length;r++){if(t[r].CaseID===s.toString()){g(t[r]);a=r;if(r===0){$(".arrow.prev").hide()}else{$(".arrow.prev").show()}if(r===t.length-1){$(".arrow.next").hide()}else{$(".arrow.next").show()}}}}$(".mainWrap.detail").html(q.join(""));$("body").scrollTop(0);$("img",".photo-list").one("load",function(){$(".load-Wrap",$(this).parents(".photo-list")).hide()}).each(function(){if(this.complete){$(this).load()}});$("img",".img_bg").one("load",function(){$(".load-Wrap",$(this).parents(".img_bg")).hide()}).each(function(){if(this.complete){$(this).load()}})}function g(u){var s="",t="";if(u.webLink!==""){s='<span class="info-desc url">網址：<a class="link" href="'+u.webLink+'" target="_blank">'+u.webLink.split("://")[1]+"</a></span>"}else{s='<span class="info-desc url">網址：專案尚未上線，不便公開</span>'}for(var r=0;r<parseInt(u.PhotoCount,10);r++){t+='<li class="list"><img src="'+k+"img/mobile/detail/work"+u.CaseID+"_0"+(r+1)+'.png" alt="'+u.CaseName+'"><span class="load-Wrap"><em class="text">- loading -</em></span></li>'}q=['<span class="img_bg"><img src="',k,"img/mobile/detail/work",u.CaseID,'_bg.png" alt="',u.CaseName,'"><span class="load-Wrap"><em class="text">- loading -</em></span></span>','<div class="project-info">','<h2 class="project-name">',u.CaseName,"</h2>",'<span class="info-desc">專案時間：<em class="time">',u.Time,"</em></span>",'<span class="info-desc">特色說明：<em class="tech">',u.SpecialTech,"</em></span>",s,'<ul class="photo-list">',t,"</ul>","</div>"]}});