$(window).load(function(){var f=$(".screen"),j=$(".subWrap"),i=$(".btn-menu"),l=$(".filter"),d=f.find(".midWrap"),c=j.find(".btn-theme"),n=d.find(".arrow"),h=d.find(".logo"),k=d.find(".works"),o=h.find(".signature"),b="https://cdn.rawgit.com/brian224/portfolio/master/",g=window.location.href.split("index")[0],m=0,p=[],a=null;if($(window).width()>860){window.location.replace(g+"index.html")}else{e()}d.delay(5000).queue(function(){$(".logo").removeClass("animate");$(this).dequeue()});$(".logo").delay(6000).queue(function(){o.remove();$(".logo-img").show()});i.on("click",function(){j.toggleClass("trigger");i.toggleClass("no-bg");f.toggleClass("scale");l.toggleClass("show")});c.on("click",function(){d.attr("class","midWrap "+$(this).data("menu"));j.attr("class","subWrap");n.removeAttr("style");$(".menu .list").removeClass("curr");$(this).parent().addClass("curr");f.removeClass("scale");l.removeClass("show");i.removeClass("no-bg");$("body").scrollTop(0)});l.on("click",function(){j.attr("class","subWrap");f.removeClass("scale");l.removeClass("show");i.removeClass("no-bg")});$(".works .list").on("click",function(){d.attr("class","midWrap detail");$(".menu .list").removeClass("curr");r($(this).data("id"),0)});n.on("click",function(){if($(this).hasClass("prev")){m=m-1}if($(this).hasClass("next")){m=m+1}r(0,m)});$(window).resize(function(){if(a){clearTimeout(a)}a=setTimeout(function(){if($(window).width()>860){window.location.href=g+"index.html"}},1000)});function e(){var t=Datas.Data.front_end,u=[];for(var s=0;s<t.length;s++){u.push('<li class="list" data-id="'+t[s].CaseID+'">');u.push('	<img src="'+b+"img/mobile/works/"+t[s].CoverImg+'" alt="'+t[s].CaseName+'">');u.push('	<em class="case-name">'+t[s].CaseName+"</em>");u.push('	<span class="load-Wrap"><em class="text">- loading -</em></span>');u.push("</li>")}k.html(u.join(""));$("img",k).one("load",function(){$(".load-Wrap",$(this).parents(".list")).hide()}).each(function(){if(this.complete){$(this).load()}})}function r(t,v){var u=Datas.Data.front_end;if(t===0){q(u[v]);if(v===0){$(".arrow.prev").hide()}else{$(".arrow.prev").show()}if(v===u.length-1){$(".arrow.next").hide()}else{$(".arrow.next").show()}}else{for(var s=0;s<u.length;s++){if(u[s].CaseID===t.toString()){q(u[s]);m=s;if(s===0){$(".arrow.prev").hide()}else{$(".arrow.prev").show()}if(s===u.length-1){$(".arrow.next").hide()}else{$(".arrow.next").show()}}}}$(".mainWrap.detail").html(p.join(""));$("body").scrollTop(0);$("img",".photo-list").one("load",function(){$(".load-Wrap",$(this).parents(".photo-list")).hide()}).each(function(){if(this.complete){$(this).load()}});$("img",".img_bg").one("load",function(){$(".load-Wrap",$(this).parents(".img_bg")).hide()}).each(function(){if(this.complete){$(this).load()}})}function q(v){var t="",u="";if(v.webLink!==""){t='<span class="info-desc url">網址：<a class="link" href="'+v.webLink+'" target="_blank">'+v.webLink.split("://")[1]+"</a></span>"}else{t='<span class="info-desc url">網址：專案尚未上線，不便公開</span>'}for(var s=0;s<parseInt(v.PhotoCount,10);s++){u+='<li class="list"><img src="'+b+"img/mobile/detail/work"+v.CaseID+"_0"+(s+1)+'.png" alt="'+v.CaseName+'"><span class="load-Wrap"><em class="text">- loading -</em></span></li>'}p=['<span class="img_bg"><img src="',b,"img/mobile/detail/work",v.CaseID,'_bg.png" alt="',v.CaseName,'"><span class="load-Wrap"><em class="text">- loading -</em></span></span>','<div class="project-info">','<h2 class="project-name">',v.CaseName,"</h2>",'<span class="info-desc">專案時間：<em class="time">',v.Time,"</em></span>",'<span class="info-desc">特色說明：<em class="tech">',v.SpecialTech,"</em></span>",t,'<ul class="photo-list">',u,"</ul>","</div>"]}});